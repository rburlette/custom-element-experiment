<script type="text/javascript" src="boundElement.js"></script>
<script>
    class ooElement extends HTMLElement {
        constructor(template) {
            super(); // always call super() first in the ctor.

            if(template) {
                this.attachShadow({ mode: 'open' });
                
                let temp = template.content.cloneNode(true);
                this.boundRoot = new boundElement(temp, this);
                this.shadowRoot.appendChild(temp);
                
            }
        }

        connectedCallback() {
            if(typeof ShadyCSS !== 'undefined')
                ShadyCSS.styleElement(this);
        }

        refresh() {
            this.boundRoot.refresh();
            this.boundRoot.ooElements.forEach(el => el.refresh());
        }
    }
</script>