<link rel="import" href="oo.html">

<template id="ch-time-record">
    <style>
        :host { 
            display: block;
            margin: 2px;
            border: 1px solid lightblue;
        }
        label { 
            display: block;
            color: lightslategrey;
            background-color: dodgerblue;
            font-size: 10px;
        }
        section { 
            display: flex;
            justify-content: space-between;
        }
        input {
            width: 80px;
        }
    </style>
    <label>Record {{this.}}</label>
    
    <section>
        <label for="time-in">In: </label>
        <input id="time-in" type="text" readonly />
    </section>
    <section>
        <label for="time-out">Out: </label>
        <input id="time-out" type="text" readonly />
    </section>
    

</template>

<script>
    const myAppTemplate = document.currentScript.ownerDocument.getElementById('ch-time-record');

    customElements.define('ch-time-record', class extends ooElement {
        constructor() {
            super(myAppTemplate);

            this.setState({
                services: [
                    { name: 'Companion', value: 1 },
                    { name: 'Homemaker', value: 2 },
                    { name: 'Personal Care', value: 3 }
            ]});
        }

        static get observedAttributes() {
            return [
                'title',
                'time-in',
                'time-out'
            ];
        }

        attributeChangedCallback(name, oldValue, newValue, namespaceURI) {
            /*switch (name) {
                var time = new Date();
                console.log(
                time.toLocaleString('en-US', { hour: 'numeric', minute: 'numeric', hour12: true })
                );

                refresh();
            }*/
        }

        set timeIn(value) {
            if(value instanceof Date)
                this.setAttribute('time-in', value.toJSON())
            else
                this.setAttribute('time-in', value)
        }

        get timeIn() {
            return new Date(this.getAttribute('time-in'))
        }

        set timeOut(value) {
            if(value instanceof Date)
                this.setAttribute('time-out', value.toJSON())
            else
                this.setAttribute('time-out', value)
        }

        get timeOut() {
            return new Date(this.getAttribute('time-out'));
        }
    });

</script>