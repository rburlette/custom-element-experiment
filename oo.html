<script src="oo.js"></script>
<script src="oo.factory.js"></script>
<script>
    class ooElement extends HTMLElement {
        constructor(template, tagName) {
            super();

            if(template) {
                this.attachShadow({ mode: 'open' });
                this.boundRoot = oo.elements[tagName].build(this);
                this.shadowRoot.appendChild(this.boundRoot.element);
            }
        }

        connectedCallback() {
            if(window.ShadyCSS)
                ShadyCSS.styleElement(this);
        }

        refresh() { this.boundRoot.refresh(); }
    }
</script>