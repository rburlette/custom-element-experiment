<template id="svg-icon">
    <style>
        :host {
            display: inline-block;
        }

        .icon {
            display: inline-block;
            width: 1em;
            height: 1em;
            stroke-width: 0;
            stroke: currentColor;
            fill: currentColor;
        }

        .icon-images {
            width: 1.125em;
        }

        .icon-connection {
            width: 1.25em;
        }

        .icon-books {
            width: 1.125em;
        }

        .icon-library {
        width: 1.0625em;
        }

        .icon-price-tags {
            width: 1.25em;
        }

        .icon-history {
            width: 1.0625em;
        }

        .icon-keyboard {
            width: 1.125em;
        }

        .icon-bubbles {
            width: 1.125em;
        }

        .icon-bubbles2 {
        width: 1.125em;
        }

        .icon-bubbles3 {
            width: 1.125em;
        }

        .icon-bubbles4 {
            width: 1.125em;
        }

        .icon-users {
            width: 1.125em;
        }

        .icon-menu2 {
            width: 1.375em;
        }

        .icon-menu3 {
            width: 1.375em;
        }

        .icon-menu4 {
            width: 1.375em;
        }

        .icon-volume-high {
            width: 1.0625em;
        }

        .icon-embed2 {
            width: 1.25em;
        }

        .icon-youtube2 {
            width: 2.5087890625em;
        }
    </style>
</template>
<script>
    (function(thisDoc) {
        customElements.define('svg-icon', class extends HTMLElement {
            constructor() {
                super();
                let template = thisDoc.getElementById('svg-icon').content.cloneNode(true);

                this.attachShadow({
                    mode: 'open'
                }).appendChild(template);
            }

            static get observedAttributes() {
                return [
                    'icon'
                ];
            }

            attributeChangedCallback(name, oldValue, newValue, namespaceURI) {
                switch (name) {
                    case 'icon':
                        this.handleIconChange(newValue);
                        break;
                }
            }

            handleIconChange(iconName) {
                const svgNamespace = "http://www.w3.org/2000/svg";
                const xlinkNamespace = "http://www.w3.org/1999/xlink";

                let svgElement = document.createElementNS(svgNamespace, "svg");
                svgElement.setAttribute("class", "icon icon-" + iconName);

                let useElement = document.createElementNS(svgNamespace, "use");
                useElement.setAttributeNS(xlinkNamespace, "href", "bicycle.svg#bicycle");

                svgElement.appendChild(useElement);

                svgElement.style.fill = '#ff0000';

                if (this.svgElement) {
                    this.shadowRoot.removeChild(this.svgElement);
                }

                this.svgElement = this.shadowRoot.appendChild(svgElement);
            }
        });
    })(document.currentScript.ownerDocument);
</script>